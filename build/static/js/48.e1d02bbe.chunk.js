(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[48],{1523:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(13),c=a(0),i=a(28),s=a(29),o=a(96),d=a(58),l=a(897),b=a(83),j=a(895),u=a(864),g=a(865),x=a(866),p=a(867),h=a(868),O=a(743),m=a(781),f=a(777),v=a(125),y=a(2),C=a(51),k=a(10),w=a(64),S=a(127),P=a(339),N=a(340),B=a(338),D=a(143),A=a(670),I=a(678),F=a(874),z=a(337),E=a(894),M=a(771),T=a(780),L=a(679),U=a(277),W=a(903),Y=a(904),R=(a(140),a(279),a(823),a(27)),q=a(1),V=Object(c.forwardRef)((function(e,t){return Object(q.jsx)(A.a,Object(k.a)({direction:"up",ref:t},e))}));function _(e){var t=e.open,a=e.setOpen,n=e.brandCategoryData,s=e.page,o=e.limit,d=e.search,l=Object(i.c)((function(e){return e.auth.user})),u=Object(i.b)(),g=Object(i.c)((function(e){return e.brandCategoryReducer.categoriesDropdownList})),x=Object(c.useState)(0),p=Object(r.a)(x,2),h=p[0],O=p[1],m=Object(c.useState)(!1),f=Object(r.a)(m,2),v=f[0],k=f[1],A=Object(c.useState)(!1),_=Object(r.a)(A,2),G=_[0],J=_[1];Object(c.useEffect)((function(){0==n.categoryId?k(!1):k(!0),O(n.categoryId)}),[n]);var H=function(){var e=Object(C.a)(Object(y.a)().mark((function e(){var t,a,n,r;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=window)||void 0===t||null===(a=t.ethereum)||void 0===a?void 0:a.request({method:"eth_requestAccounts"});case 2:return n=e.sent,e.next=5,ethereum._metamask.isUnlocked();case 5:if(r=e.sent,0!=(window.ethereum&&r)){e.next=11;break}u({type:R.E,open:!0,message:"No crypto wallet found. Please connect one",variant:"alert",alertSeverity:"info"}),console.log("No crypto wallet found. Please install it."),e.next=17;break;case 11:if((null===w.utils||void 0===w.utils?void 0:w.utils.getAddress(n[0]))===l.walletAddress){e.next=16;break}u({type:R.E,open:!0,message:"Please connect your registered Wallet Address",variant:"alert",alertSeverity:"info"}),console.log("Please connect your registered Wallet Address"),e.next=17;break;case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(C.a)(Object(y.a)().mark((function e(){var t,r,c,i,l,b,j,x,p,O,m,f;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:if(!e.sent){e.next=27;break}return J(!0),i=null===n||void 0===n?void 0:n.brand.name,g.categories.map((function(e){e.value==h&&(l=e.label)})),b="Galileo "+i+" "+l,j="G"+(null===i||void 0===i?void 0:i.substring(0,1))+(null===(t=l)||void 0===t?void 0:t.substring(0,1)),x=new S.a.providers.Web3Provider(window.ethereum),p=x.getSigner(),O=new S.a.Contract(Y.address,W,p),e.next=13,O.deployMintingContract(b,j).catch((function(e){a(!1),J(!1),console.log("error",e)}));case 13:if(e.t1=r=e.sent,e.t0=null===e.t1,e.t0){e.next=17;break}e.t0=void 0===r;case 17:if(!e.t0){e.next=21;break}e.t2=void 0,e.next=22;break;case 21:e.t2=r.wait();case 22:return e.next=24,e.t2;case 24:m=e.sent,f=null===m||void 0===m||null===(c=m.events[2])||void 0===c?void 0:c.args[0],m&&u(Object(D.a)({brandId:n.brandId,categoryId:h,profitPercentage:X.values.profitPercentage,contractAddress:f,page:s,limit:o,search:d,handleClose:Z}));case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=N.d({isUpdate:N.a().default(v),profitPercentage:N.c().min(1,"Profit Percentage should not be less than one").max(99,"Profit Percentage should not exceed 99").required("Profit Percentage is required").typeError("Invalid Profit Percentage")}),X=Object(P.b)({enableReinitialize:!0,initialValues:n,validationSchema:Q,onSubmit:function(e){v?u(Object(D.k)({brandId:n.brandId,categoryId:n.categoryId,profitPercentage:e.profitPercentage,page:s,limit:o,search:d,handleClose:Z})):K()}}),Z=function(){a(!1),X.resetForm(),J(!1)};return Object(c.useEffect)((function(){u(Object(D.i)({brandId:n.brandId}))}),[]),Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(I.a,{open:t,"aria-labelledby":"form-dialog-title",className:"adminDialog dialog",maxWidth:"sm",TransitionComponent:V,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description1",children:[Object(q.jsx)(F.a,{id:"form-dialog-title",className:"assignheading",children:v?" Update Profit ":"Assign Category "}),Object(q.jsx)(z.a,{}),Object(q.jsx)(E.a,{children:Object(q.jsx)("form",{noValidate:!0,onSubmit:X.handleSubmit,id:"validation-forms",children:Object(q.jsx)(b.a,{container:!0,children:Object(q.jsxs)(q.Fragment,{children:[!v&&Object(q.jsx)(b.a,{item:!0,xs:12,pt:2,children:Object(q.jsxs)(M.a,{className:"responsiveSelectfield textfieldStyle field",id:"outlined-select-budget",select:!0,fullWidth:!0,label:"Select Category",value:h,onChange:function(e){O(e.target.value)},variant:"standard",children:[Object(q.jsx)(T.a,{value:0,children:"Choose Category"}),g&&g.categories&&g.categories.map((function(e,t){return Object(q.jsx)(T.a,{value:e.value,children:e.label},t)}))]})}),Object(q.jsx)(b.a,{item:!0,xs:12,pt:2,children:Object(q.jsx)(M.a,{className:"textfieldStyle field",variant:"standard",id:"profitPercentage",name:"profitPercentage",label:"Enter Profit Percentage",value:X.values.profitPercentage,onChange:X.handleChange,error:X.touched.profitPercentage&&Boolean(X.errors.profitPercentage),helperText:X.touched.profitPercentage&&X.errors.profitPercentage,fullWidth:!0})})]})})})}),Object(q.jsx)(L.a,{sx:{display:"block",margin:"10px 10px 0px 20px"},children:G?Object(q.jsx)(j.a,{}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(B.a,{children:Object(q.jsx)(U.a,{variant:"contained",className:"buttons",sx:{width:"92%",margin:"0px 0px 10px 8px",background:"linear-gradient(97.63deg, #2F57FF 0%, #2FA3FF 108.45%)"},type:"submit",size:"large",disableElevation:!0,onClick:function(){X.handleSubmit()},children:v?"Update ":"Create "})}),Object(q.jsx)(B.a,{children:Object(q.jsx)(U.a,{className:"buttons",variant:"outlined",sx:{my:1,ml:0,width:"95%",margin:"0px 0px 10px 0px",color:"#4044ED"},onClick:Z,color:"secondary",size:"large",children:"Cancel"})})]})})]})})}var G=a(896),J=Object(c.forwardRef)((function(e,t){return Object(q.jsx)(A.a,Object(k.a)({direction:"up",ref:t},e))}));function H(e){var t=e.open,a=e.setOpen,n=e.page,r=e.limit,c=e.search,s=e.brandCategoryData,o=Object(d.a)(),l=Object(i.b)(),b=function(){a(!1)};return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(I.a,{open:t,TransitionComponent:J,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title1","aria-describedby":"alert-dialog-slide-description1",children:[Object(q.jsx)(F.a,{id:"alert-dialog-slide-title1",className:"assignheading",children:"Delete Brand Category"}),Object(q.jsx)(E.a,{children:Object(q.jsx)(G.a,{id:"alert-dialog-slide-description1",children:Object(q.jsx)(v.a,{variant:"body2",component:"span",className:"statustypo",children:"Are you sure you want to delete this Category?"})})}),Object(q.jsxs)(L.a,{sx:{pr:2.5},children:[Object(q.jsx)(U.a,{sx:{color:o.palette.error.dark,borderColor:o.palette.error.dark},onClick:b,color:"secondary",className:"buttonSize",size:"large",children:"No"}),Object(q.jsx)(U.a,{variant:"contained",className:"buttonSize",size:"large",onClick:function(){l(Object(D.b)({categoryId:s.categoryId,brandId:s.brandId,page:n,limit:r,search:c,handleClose:b}))},children:"Yes"})]})]})})}var K=a(795),Q=a(905),X=a.n(Q),Z=a(822),$=a.n(Z),ee=function(e){var t=e.brandCategoriesList,a=e.search,i=e.page,o=e.limit,y=e.addUpdateOpen,C=e.setAddUpdateOpen,k=e.brandCategoryData,w=(e.setBrandCategoryData,Object(s.k)()),S=Object(c.useState)(!1),P=Object(r.a)(S,2),N=P[0],B=P[1],D=Object(c.useState)(),A=Object(r.a)(D,2);A[0],A[1],Object(d.a)();return Object(q.jsxs)(l.a,{children:[Object(q.jsx)(_,{open:y,setOpen:C,brandCategoryData:k,page:i,limit:o,search:a}),Object(q.jsx)(H,{open:N,setOpen:B,page:i,limit:o,search:a,brandCategoryData:k}),void 0==t.brandCategories?Object(q.jsx)(b.a,{container:!0,justifyContent:"center",sx:{width:"80%",m:"15px auto "},children:Object(q.jsx)(b.a,{item:!0,children:Object(q.jsx)(j.a,{disableShrink:!0,size:"4rem"})})}):Object(q.jsx)(q.Fragment,{children:void 0!=t.brandCategories&&t.count>0?Object(q.jsxs)(u.a,{children:[Object(q.jsx)(g.a,{children:Object(q.jsxs)(x.a,{children:[Object(q.jsx)(p.a,{align:"center",sx:{borderBottom:"none"}}),Object(q.jsxs)(p.a,{align:"left ",className:"Tableheading",sx:{borderBottom:"none"},children:["Category name"," "]}),Object(q.jsx)(p.a,{className:"Tableheading",sx:{borderBottom:"none"},children:"Profit Percentage"}),Object(q.jsx)(p.a,{className:"Tableheading",sx:{borderBottom:"none"},children:"Created At"}),Object(q.jsx)(p.a,{className:"Tableheading",sx:{borderBottom:"none"},children:"Updated At"}),Object(q.jsx)(p.a,{className:"Tableheading",sx:{borderBottom:"none"},children:"Actions"})]})}),Object(q.jsx)(h.a,{sx:{padding:"10px"},children:void 0!=t.brandCategories&&t.brandCategories.map((function(e,t){return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(x.a,{children:[Object(q.jsx)(p.a,{align:"right",sx:{borderBottom:"none"}}),Object(q.jsxs)(p.a,{sx:Object(n.a)({display:"flex",borderBottom:"none",textTransform:"capitalize"},"borderBottom","none"),children:[Object(q.jsx)(b.a,{item:!0,lg:6,children:Object(q.jsx)(K.a,{alt:"Brand Image",src:e.Category.image,sx:{}})}),Object(q.jsx)(b.a,{item:!0,lg:6,className:"tableName",children:e.Category.name})]}),Object(q.jsxs)(p.a,{className:"tablecell",sx:{borderBottom:"none"},children:[e.profitPercentage,"%"]}),Object(q.jsx)(p.a,{className:"tablecell",sx:{borderBottom:"none"},children:$()(e.createdAt).format("DD-MMM-YYYY")}),Object(q.jsx)(p.a,{className:"tablecell",sx:{borderBottom:"none"},children:$()(e.updatedAt).format("DD-MMM-YYYY")}),Object(q.jsx)(p.a,{align:"left",sx:{padding:"0px",borderBottom:"none"},children:Object(q.jsx)(O.a,{direction:"row",children:Object(q.jsx)(m.a,{placement:"top",title:" View NFT'S",children:Object(q.jsx)(f.a,{color:"primary","aria-label":"detail",size:"medium",onClick:function(){w("/nftManagement",{state:{brandData:e}})},children:Object(q.jsx)(X.a,{sx:{fontSize:"1.5rem"}})})})})})]})})}))})]}):Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(b.a,{item:!0,children:Object(q.jsx)(v.a,{className:"statustypo",style:{padding:"20px 20px 20px 70px",fontWeight:"500"},children:" No Data Available"})})})})]})},te=a(759),ae=a(764),ne=a(1512),re=a(31),ce=a(139);a(156),t.default=function(){var e,t,a,l,j=Object(i.c)((function(e){return e.auth.user})),u=Object(d.a)(),g=Object(i.b)(),x=Object(s.i)(),p=Object(s.k)(),h=Object(i.c)((function(e){return e.brandCategoryReducer.brandCategoriesByAdminList})),O=Object(c.useState)(""),m=Object(r.a)(O,2),f=m[0],y=m[1],C=Object(c.useState)(1),k=Object(r.a)(C,2),w=k[0],S=k[1],P=Object(c.useState)(10),N=Object(r.a)(P,2),B=N[0],A=(N[1],Object(c.useState)(!1)),I=Object(r.a)(A,2),F=I[0],z=I[1],E=Object(c.useState)({brand:null===x||void 0===x||null===(e=x.state)||void 0===e?void 0:e.brandData,brandId:null===x||void 0===x||null===(t=x.state)||void 0===t?void 0:t.brandData.id,categoryId:0,profitPercentage:""}),M=Object(r.a)(E,2),T=M[0],L=M[1],W=Object(c.useState)(null),Y=Object(r.a)(W,2);Y[0],Y[1];return Object(c.useEffect)((function(){var e,t;g(Object(D.f)({brandId:null===x||void 0===x||null===(e=x.state)||void 0===e||null===(t=e.brandData)||void 0===t?void 0:t.id,search:f,page:w,limit:B,adminId:j.id}))}),[f,w,B]),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(_,{open:F,setOpen:z,brandCategoryData:T,page:w,limit:B,search:f}),Object(q.jsx)(ce.a,{className:"Adminheading",title:Object(q.jsx)(v.a,{variant:"h1",component:"h2",className:"headingcard",sx:Object(n.a)({marginTop:"10px",fontWeight:600,color:"#000",marginLeft:{lg:"-20px",md:"-20px"},background:"dark"===u.palette.mode?"black":"#f3f3f3"},"color","dark"===u.palette.mode?"white":"#404040"),children:"Brand Management"}),secondary:Object(q.jsx)(U.a,{className:"buttonSize",sx:{float:"right"},variant:"contained",size:"large",onClick:function(){p("/brands")},children:"Back"}),content:!1}),Object(q.jsxs)(ce.a,{className:"tableShadow",title:Object(q.jsxs)(b.a,{container:!0,spacing:4,children:[Object(q.jsx)(b.a,{item:!0,xs:6,lg:8,children:Object(q.jsxs)(v.a,{className:"mainheading",variant:"h1",component:"h2",sx:{marginLeft:{lg:"48px",md:"48px"}},children:["Category Management of : ",null===x||void 0===x||null===(a=x.state)||void 0===a||null===(l=a.brandData)||void 0===l?void 0:l.name]})}),Object(q.jsx)(b.a,{item:!0,xs:3,lg:2,children:Object(q.jsx)(te.a,{id:"input-search-list-style1",placeholder:"Search",startAdornment:Object(q.jsx)(ae.a,{position:"start",children:Object(q.jsx)(re.u,{stroke:1.5,size:"1rem"})}),size:"small",onChange:function(e){y(e.target.value)}})})]}),content:!1,children:[Object(q.jsx)(ee,{brandCategoriesList:h,search:f,page:w,limit:B,addUpdateOpen:F,setAddUpdateOpen:z,brandCategoryData:T,setBrandCategoryData:L}),Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(b.a,{item:!0,xs:12,sx:{p:3},children:Object(q.jsx)(b.a,{container:!0,justifyContent:"center",spacing:o.b,children:Object(q.jsx)(b.a,{item:!0,children:Object(q.jsx)(ne.a,{color:"primary",showFirstButton:!0,showLastButton:!0,page:w,count:h.pages,onChange:function(e,t){S(t)}})})})})})]})]})}},795:function(e,t,a){"use strict";var n=a(10),r=a(126),c=a(58),i=a(675),s=a(1),o=["color","outline","size","sx"];t.a=function(e){var t=e.color,a=e.outline,d=e.size,l=e.sx,b=Object(r.a)(e,o),j=Object(c.a)(),u=t&&!a&&{color:j.palette.background.paper,bgcolor:"".concat(t,".main")},g=a&&{color:t?"".concat(t,".main"):"primary.main",bgcolor:j.palette.background.paper,border:"2px solid",borderColor:t?"".concat(t,".main"):"primary.main"},x={};switch(d){case"badge":x={width:j.spacing(3.5),height:j.spacing(3.5)};break;case"xs":x={width:j.spacing(4.25),height:j.spacing(4.25)};break;case"sm":x={width:j.spacing(5),height:j.spacing(5)};break;case"lg":x={width:j.spacing(9),height:j.spacing(9)};break;case"xl":x={width:j.spacing(10.25),height:j.spacing(10.25)};break;case"md":x={width:j.spacing(7.5),height:j.spacing(7.5)};break;default:x={}}return Object(s.jsx)(i.a,Object(n.a)({sx:Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)({},u),g),x),l)},b))}},823:function(e,t,a){"use strict";t.a={WALLET_ADDRESS:"0x6f3B51bd5B67F3e5bca2fb32796215A796B79651",ERC20:"0x44405b9819dd99b331A317f5c76667EcCcf19072"}}}]);
//# sourceMappingURL=48.e1d02bbe.chunk.js.map