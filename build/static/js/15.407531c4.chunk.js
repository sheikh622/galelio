(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[15],{1205:function(e,t){},1395:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(0),c=a(35),i=a(26),s=a(78),o=a(54),l=a(191),d=a(545),b=a(561),j=a(570),u=a(546),p=a(1388),h=a(193),x=a(97),g=a(574),O=a(451),m=a(527),f=a(9),y=a(117),v=a(450),k=a(350),w=a(442),C=a(1),N=["border","boxShadow","children","content","contentClass","contentSX","darkTitle","secondary","shadow","sx","title"],S={"& .MuiCardHeader-action":{mr:0}},I=Object(r.forwardRef)((function(e,t){var a=e.border,n=void 0===a||a,r=e.boxShadow,c=e.children,i=e.content,s=void 0===i||i,d=e.contentClass,b=void 0===d?"":d,j=e.contentSX,u=void 0===j?{}:j,p=e.darkTitle,h=e.secondary,x=e.shadow,g=e.sx,m=void 0===g?{}:g,I=e.title,T=Object(y.a)(e,N),F=Object(o.a)();return Object(C.jsxs)(v.a,Object(f.a)(Object(f.a)({ref:t},T),{},{sx:Object(f.a)({border:n?"1px solid":"none",borderColor:"dark"===F.palette.mode?F.palette.background.default:F.palette.primary[200]+75,":hover":{boxShadow:r?x||("dark"===F.palette.mode?"0 2px 14px 0 rgb(33 150 243 / 10%)":"0 2px 14px 0 rgb(32 40 45 / 8%)"):"inherit"}},m),children:[!p&&I&&Object(C.jsx)(k.a,{sx:S,title:I,action:h}),p&&I&&Object(C.jsx)(k.a,{sx:S,title:Object(C.jsx)(l.a,{variant:"h3",children:I}),action:h}),I&&Object(C.jsx)(w.a,{}),s&&Object(C.jsx)(O.a,{sx:u,className:b,children:c}),!s&&c]}))})),T=a(3),F=a(55),D=a(357),A=a(520),B=a(737),M=a(695),R=a(738),z=a(739),L=a(1405),E=a(264),G=(a(358),a(664)),U=a(985),H=a(356),J=a(812),P=a(813),W=a(629),Y=(a(1356),"Basic "+H.Buffer.from("2GGvNmnqRYjnz7iJU9Kn6Nnw97C:a09de1e8b20292cd87460290de554003").toString("base64")),Q=Object(U.create)({host:"ipfs.infura.io",port:5001,protocol:"https",headers:{authorization:Y}}),V=Object(r.forwardRef)((function(e,t){return Object(C.jsx)(A.a,Object(f.a)({direction:"up",ref:t},e))}));function X(e){var t=e.open,a=e.setOpen,n=e.page,r=e.limit,i=e.search,s=e.loader,d=e.setLoader,b=e.nftData,j=e.type,p=Object(o.a)(),h=Object(c.b)(),g=Object(c.c)((function(e){return e.auth.walletAddress})),O=function(){a(!1),d(!1)},m=function(){var e=Object(F.a)(Object(T.a)().mark((function e(t){var a,c,s,o,l,u,p,g,m,f,y,v,k,w,C,N,S,I,F,A,B,M,R,z,L;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b.NFTTokens,c=b.Category.BrandCategories[0].contractAddress,console.log(c),s=b.id,o=b.CategoryId,l=b.BrandId,u=D.a.utils.parseEther(b.price.toString()),p=W.a.ERC20,g=[],e.prev=9,f=new D.a.providers.Web3Provider(window.ethereum),y=f.getSigner(),e.next=14,y.getAddress();case 14:return v=e.sent,k=new D.a.Contract(c,G.abi,y),w="https://galileoprotocol.infura-ipfs.io/ipfs/".concat(t.path),e.next=19,a.map((function(){return w}));case 19:if(1!=(C=e.sent).length){e.next=39;break}return e.next=23,k.mint(w,P.address).catch((function(e){E.b.error("".concat(e.message))}));case 23:return e.next=25,e.sent.wait();case 25:return N=e.sent,m="https://goerli.etherscan.io/tx/".concat(N.transactionHash),S=parseInt(N.events[0].args[2]),I=new D.a.Contract(P.address,J.abi,y),e.next=31,I.makeItem(p,S,c,u).catch((function(e){E.b.error(e.message)}));case 31:return e.next=33,e.sent.wait();case 33:g.push({id:a[0].id,tokenId:S}),(F=[]).push({nftId:s,tokenUri:w}),h(Object(x.p)({nftDataArray:F,tokenIdArray:g,transactionHash:m,signerAddress:v,brandId:l,categoryId:o,type:j,search:i,page:n,limit:r,handleClose:O})),e.next=58;break;case 39:if(!(C.length>1)){e.next=58;break}return e.next=42,k.bulkMint(C,P.address).catch((function(e){E.b.error("NFT minting  unsuccessfull")}));case 42:return e.next=44,e.sent.wait();case 44:for(A=e.sent,m="https://goerli.etherscan.io/tx/".concat(A.transactionHash),B=0,M=[],R=0;R<C.length;R++)M.push(A.events[B].args[2].toString()),B+=2;return z=new D.a.Contract(P.address,J.abi,y),e.next=52,z.makeItemBulk(p,M,c,u).catch((function(e){E.b.error(e.message)}));case 52:return e.next=54,e.sent.wait();case 54:a.map((function(e,t){g.push({id:e.id,tokenId:M[t]})})),(L=[]).push({nftId:s,tokenUri:w}),h(Object(x.p)({nftDataArray:L,tokenIdArray:g,transactionHash:m,signerAddress:v,brandId:l,categoryId:o,type:j,search:i,page:n,limit:r,handleClose:O}));case 58:e.next=63;break;case 60:e.prev=60,e.t0=e.catch(9),d(!1);case 63:case"end":return e.stop()}}),e,null,[[9,60]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(F.a)(Object(T.a)().mark((function e(){var t,a,n,r,c,i,s,o,l,j;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),t=b.asset,a=b.price,n=b.name,r=b.description,c="Galelio",i=(new Date).valueOf(),s=b.Category.name,o=b.Brand.name,l=b.NFTMetaData,t&&a&&n&&r){e.next=12;break}return e.abrupt("return");case 12:return e.prev=12,e.next=15,Q.add(JSON.stringify({projectName:c,brandName:o,categoryName:s,image:t,name:n,description:r,price:a,mintedDate:i,metaData:l}));case 15:j=e.sent,m(j),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),d(!1);case 22:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(F.a)(Object(T.a)().mark((function e(){var t,a,c,s,o,l,d,u,p,m,f,y,v,k,w,C,N,S,I,F,A,B,M,R,z,L;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.BrandId,a=b.CategoryId,c=b.id,s=b.asset,o=b.price,l=D.a.utils.parseEther(o.toString()),d=b.name,u=b.description,"Galelio",p=(new Date).valueOf(),m=b.Category.name,f=b.Brand.name,y=b.NFTMetaData,v=b.Category.BrandCategories[0].contractAddress,k=b.NFTTokens,console.log("contractAddress",v),e.next=18,Q.add(JSON.stringify({projectName:"Galelio",brandName:f,categoryName:m,image:s,name:d,description:u,price:l,mintedDate:p,metaData:y}));case 18:return w=e.sent,C="https://galileoprotocol.infura-ipfs.io/ipfs/".concat(w.path),N=W.a.ERC20,"Galileo-Protocol","1",S={name:"Galileo-Protocol",version:"1",verifyingContract:v,chainId:5},I={GalileoVoucher:[{name:"uri",type:"string"},{name:"price",type:"uint256"},{name:"token",type:"address"}]},F={uri:C,price:l,token:N},console.log("Voucher: ",F),A=new D.a.providers.Web3Provider(window.ethereum),B=A.getSigner(),e.next=31,B._signTypedData(S,I,F);case 31:M=e.sent,R=D.a.utils.verifyTypedData(S,I,F,M),console.log("signature: ",R),"0x6f3B51bd5B67F3e5bca2fb32796215A796B79651",new D.a.Contract(v,G.abi,B),"0x6f3b51bd5b67f3e5bca2fb32796215a796b79651",console.log("domain",S),console.log("types",I),console.log("voucher",F),console.log("signature",M),console.log("verifyAddr",R),console.log("walletAddress",g),console.log("signer",B),z=[{nftId:c,tokenUri:C,tokenPrice:o.toString(),signerAddress:"0x6f3B51bd5B67F3e5bca2fb32796215A796B79651"}],L=k.map((function(e){return{id:e.id,signature:M,erc20Address:N}})),h(Object(x.o)({nftDataArray:z,tokenIdArray:L,brandId:t,categoryId:a,type:j,search:i,page:n,limit:r,handleClose:O}));case 47:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(B.a,{className:"responsiveDialog",open:t,TransitionComponent:V,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title1","aria-describedby":"alert-dialog-slide-description1",children:[Object(C.jsx)(M.a,{id:"alert-dialog-slide-title1",children:" Mint NFT"}),Object(C.jsx)(R.a,{children:Object(C.jsx)(l.a,{variant:"body2",component:"span",children:"Are you sure you want to mint this NFT?"})}),Object(C.jsx)(z.a,{sx:{pr:2.5},children:Object(C.jsx)(C.Fragment,{children:s?Object(C.jsx)(L.a,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(u.a,{sx:{color:p.palette.error.dark,borderColor:p.palette.error.dark},onClick:O,color:"secondary",children:"No"}),Object(C.jsxs)(u.a,{variant:"contained",size:"small",onClick:function(){s||(void 0==g?(a(!1),E.b.error("Connect Metamask")):"directMint"==b.mintType?f():"lazyMint"==b.mintType&&y())},children:[" ","Yes"]})]})})})]})})}var q=a(740),K=Object(r.forwardRef)((function(e,t){return Object(C.jsx)(A.a,Object(f.a)({direction:"up",ref:t},e))}));function _(e){var t=e.open,a=e.setOpen,n=e.page,r=e.limit,i=e.search,s=(e.loader,e.setLoader,e.nftData),d=e.type,b=Object(o.a)(),j=Object(c.b)(),p=function(){a(!1)};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(B.a,{open:t,TransitionComponent:K,keepMounted:!0,onClose:p,"aria-labelledby":"alert-dialog-slide-title1","aria-describedby":"alert-dialog-slide-description1",children:[Object(C.jsx)(M.a,{id:"alert-dialog-slide-title1",children:"Reject NFT"}),Object(C.jsx)(R.a,{children:Object(C.jsx)(q.a,{id:"alert-dialog-slide-description1",children:Object(C.jsx)(l.a,{variant:"body2",component:"span",children:"Are you sure you want to reject this NFT?"})})}),Object(C.jsxs)(z.a,{sx:{pr:2.5},children:[Object(C.jsx)(u.a,{sx:{color:b.palette.error.dark,borderColor:b.palette.error.dark},onClick:p,color:"secondary",children:"No"}),Object(C.jsx)(u.a,{variant:"contained",size:"large",onClick:function(){j(Object(x.r)({id:s.id,categoryId:s.CategoryId,brandId:s.BrandId,type:d,page:n,limit:r,search:i,handleClose:p}))},children:"Yes"})]})]})})}var Z=function(e){var t=e.nftData,a=e.search,c=e.page,i=e.limit,s=e.type;console.log("nftData",t);var o=Object(r.useState)(!1),b=Object(n.a)(o,2),j=b[0],p=b[1],h=Object(r.useState)(!1),x=Object(n.a)(h,2),f=x[0],y=x[1],v=Object(r.useState)(!1),k=Object(n.a)(v,2),w=k[0],N=k[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(_,{nftData:t,type:s,search:a,page:c,limit:i,loader:j,setLoader:p,open:w,setOpen:N}),Object(C.jsx)(X,{nftData:t,type:s,search:a,page:c,limit:i,loader:j,setLoader:p,open:f,setOpen:y}),Object(C.jsxs)(I,{className:"tableShadow",content:!1,boxShadow:!0,sx:{position:"relative","&:hover":{transform:"scale3d(1.02, 1.02, 1)",transition:"all .4s ease-in-out"}},children:[Object(C.jsx)(g.a,{sx:{height:220},image:t.asset}),Object(C.jsx)(O.a,{sx:{p:2},children:Object(C.jsxs)(d.a,{container:!0,spacing:2,children:[Object(C.jsx)(d.a,{item:!0,xs:8,children:Object(C.jsx)(l.a,{variant:"subtitle1",sx:{textDecoration:"none"},children:t.name})}),Object(C.jsx)(d.a,{item:!0,xs:4,children:Object(C.jsx)(l.a,{variant:"body1",sx:{textDecoration:"none"},children:"lazyMint"==t.mintType?"Lazy Mint":"Mint"})}),Object(C.jsx)(d.a,{item:!0,xs:12,mt:-1.5,children:Object(C.jsx)(l.a,{variant:"body1",sx:{overflow:"hidden",height:30},children:t.description})}),Object(C.jsxs)(d.a,{item:!0,xs:6,children:[Object(C.jsx)(d.a,{item:!0,xs:12,children:Object(C.jsxs)(l.a,{variant:"h6",children:[t.price," ",t.currencyType]})}),Object(C.jsx)(d.a,{item:!0,xs:12,children:Object(C.jsxs)(l.a,{variant:"h6",children:[t.NFTTokens.length," Items"]})})]}),Object(C.jsx)(d.a,{item:!0,xs:6,children:Object(C.jsxs)(m.a,{direction:"row",justifyContent:"end",alignItems:"center",children:["REQUESTED"==t.status&&Object(C.jsx)(u.a,{variant:"contained",color:"primary",sx:{marginRight:"5px"},onClick:function(){N(!0)},children:"Reject"}),"REQUESTED"==t.status&&Object(C.jsx)(u.a,{variant:"contained",color:"primary",sx:{marginRight:"5px"},onClick:function(){y(!0)},children:"Mint"})]})})]})})]})]})},$=(a(63),[{value:"all",label:"All NFT'S"},{value:"directMint",label:"Minted NFTS"},{value:"lazyMint",label:"Lazy Minted NFT'S"},{value:"waiting",label:"Waiting For approval"},{value:"rejected",label:"Rejected NFTS"}]);t.default=function(){Object(o.a)();var e=Object(i.k)(),t=Object(i.i)(),a=Object(c.b)(),g=Object(c.c)((function(e){return e.nftReducer.nftListSuperAdmin})),O=Object(r.useState)("all"),m=Object(n.a)(O,2),f=m[0],y=m[1],v=Object(r.useState)(""),k=Object(n.a)(v,2),w=k[0],N=k[1],S=Object(r.useState)(1),I=Object(n.a)(S,2),T=I[0],F=I[1],D=Object(r.useState)(12),A=Object(n.a)(D,2),B=A[0],M=A[1],R=Object(r.useState)(null),z=Object(n.a)(R,2),E=(z[0],z[1]),G=Object(r.useState)(!0),U=Object(n.a)(G,2),H=U[0],J=U[1],P=function(){E(null),J(!1)};return Object(r.useEffect)((function(){var e,n,r,c;a(Object(x.k)({brandId:null===t||void 0===t||null===(e=t.state)||void 0===e||null===(n=e.brandData)||void 0===n?void 0:n.BrandId,categoryId:null===t||void 0===t||null===(r=t.state)||void 0===r||null===(c=r.brandData)||void 0===c?void 0:c.CategoryId,search:w,page:T,limit:B,type:f,handleClose:P}))}),[w,T,B,f]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(h.a,{className:"Adminheading",title:Object(C.jsx)(l.a,{variant:"h1",component:"h2",className:"headingcard",sx:{marginTop:"10px",fontWeight:600,color:"#000",marginLeft:{lg:"-20px",md:"-20px"}},children:"Categories"}),content:!1}),Object(C.jsx)(h.a,{className:"yellow tableShadow",title:Object(C.jsxs)(d.a,{container:!0,spacing:4,children:[Object(C.jsx)(d.a,{item:!0,xs:6,lg:8,children:Object(C.jsx)(l.a,{className:"mainheading",variant:"h1",component:"h2",sx:{marginLeft:{lg:"48px",md:"48px"}},children:"NFT Management"})}),Object(C.jsx)(d.a,{item:!0,xs:3,lg:2,children:Object(C.jsx)(b.a,{className:"selectField selectstyle",id:"outlined-select-budget",select:!0,fullWidth:!0,value:f,onChange:function(e){y(e.target.value),M(12),N(""),F(1)},variant:"standard",children:$.map((function(e,t){return Object(C.jsx)(j.a,{className:" selectstyle",value:e.value,children:e.label},t)}))})}),Object(C.jsx)(d.a,{item:!0,xs:3,lg:2,textAlign:"start",children:Object(C.jsx)(u.a,{className:"buttonSize",sx:{marginLeft:{lg:"-16px",md:"-16px"}},variant:"contained",size:"large",onClick:function(){e("/brands")},children:"Back"})})]}),content:!1,children:Object(C.jsx)(d.a,{container:!0,children:g&&g.nfts&&g.nfts.rows&&g.nfts.rows.length>0?Object(C.jsxs)(C.Fragment,{children:[" ",Object(C.jsx)(d.a,{container:!0,spacing:s.b,mt:2,sx:{marginLeft:{lg:"48px",md:"48px"}},children:g.nfts.rows&&g.nfts.rows.map((function(e,t){return Object(C.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(C.jsx)(Z,{className:"tableShadow",nftData:e,search:w,page:T,limit:B,type:f})},t)}))}),Object(C.jsx)(d.a,{item:!0,xs:12,sx:{p:3},children:Object(C.jsx)(d.a,{container:!0,justifyContent:"center",spacing:s.b,children:Object(C.jsx)(d.a,{item:!0,children:Object(C.jsx)(p.a,{page:T,color:"primary",showFirstButton:!0,showLastButton:!0,count:g&&g.pages,onChange:function(e,t){F(t)}})})})})]}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(d.a,{item:!0,display:"flex",justifyContent:"center",children:H&&Object(C.jsx)(L.a,{size:"5rem",disableShrink:!0})})})})})]})}}}]);
//# sourceMappingURL=15.407531c4.chunk.js.map