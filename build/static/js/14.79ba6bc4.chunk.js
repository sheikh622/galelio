(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[14],{1209:function(e,t){},1383:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(0),c=a(35),i=a(26),s=a(77),o=a(54),l=a(540),d=a(188),b=a(558),j=a(567),u=a(541),h=a(1376),p=a(340),x=a(602),O=a.n(x),g=a(189),f=a(96),m=a(571),v=a(445),y=a(521),k=a(9),w=a(117),C=a(444),I=a(344),N=a(436),T=a(1),S=["border","boxShadow","children","content","contentClass","contentSX","darkTitle","secondary","shadow","sx","title"],D={"& .MuiCardHeader-action":{mr:0}},F=Object(r.forwardRef)((function(e,t){var a=e.border,n=void 0===a||a,r=e.boxShadow,c=e.children,i=e.content,s=void 0===i||i,l=e.contentClass,b=void 0===l?"":l,j=e.contentSX,u=void 0===j?{}:j,h=e.darkTitle,p=e.secondary,x=e.shadow,O=e.sx,g=void 0===O?{}:O,f=e.title,m=Object(w.a)(e,S),y=Object(o.a)();return Object(T.jsxs)(C.a,Object(k.a)(Object(k.a)({ref:t},m),{},{sx:Object(k.a)({border:n?"1px solid":"none",borderColor:"dark"===y.palette.mode?y.palette.background.default:y.palette.primary[200]+75,":hover":{boxShadow:r?x||("dark"===y.palette.mode?"0 2px 14px 0 rgb(33 150 243 / 10%)":"0 2px 14px 0 rgb(32 40 45 / 8%)"):"inherit"}},g),children:[!h&&f&&Object(T.jsx)(I.a,{sx:D,title:f,action:p}),h&&f&&Object(T.jsx)(I.a,{sx:D,title:Object(T.jsx)(d.a,{variant:"h3",children:f}),action:p}),f&&Object(T.jsx)(N.a,{}),s&&Object(T.jsx)(v.a,{sx:u,className:b,children:c}),!s&&c]}))})),A=a(3),B=a(55),M=a(351),R=a(514),z=a(676),E=a(656),L=a(677),W=a(678),U=a(261),G=(a(352),a(761)),H=a(989),J=a(350),V=a(806),P=a(807),Y=a(623),Q="Basic "+J.Buffer.from("2GGvNmnqRYjnz7iJU9Kn6Nnw97C:a09de1e8b20292cd87460290de554003").toString("base64"),X=Object(H.create)({host:"ipfs.infura.io",port:5001,protocol:"https",headers:{authorization:Q}}),q=Object(r.forwardRef)((function(e,t){return Object(T.jsx)(R.a,Object(k.a)({direction:"up",ref:t},e))}));function K(e){var t=e.open,a=e.setOpen,n=e.page,r=e.limit,i=e.search,s=e.loader,l=e.setLoader,b=e.nftData,j=e.type,h=Object(o.a)(),p=Object(c.b)(),x=Object(c.c)((function(e){return e.auth.walletAddress})),O=function(){a(!1),l(!1)},g=function(){var e=Object(B.a)(Object(A.a)().mark((function e(t){var a,c,s,o,d,u,h,x,g,m,v,y,k,w,C,I,N,T,S,D,F,B,R,z,E;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b.NFTTokens,c=b.Category.BrandCategories[0].contractAddress,console.log(c),s=b.id,o=b.CategoryId,d=b.BrandId,u=M.a.utils.parseEther(b.price.toString()),h=Y.a.ERC20,x=[],e.prev=9,m=new M.a.providers.Web3Provider(window.ethereum),v=m.getSigner(),e.next=14,v.getAddress();case 14:return y=e.sent,k=new M.a.Contract(c,G.abi,v),w="https://galileoprotocol.infura-ipfs.io/ipfs/".concat(t.path),e.next=19,a.map((function(){return w}));case 19:if(1!=(C=e.sent).length){e.next=39;break}return e.next=23,k.mint(w,P.address).catch((function(e){U.b.error("".concat(e.message))}));case 23:return e.next=25,e.sent.wait();case 25:return I=e.sent,g="https://goerli.etherscan.io/tx/".concat(I.transactionHash),N=parseInt(I.events[0].args[2]),T=new M.a.Contract(P.address,V.abi,v),e.next=31,T.makeItem(h,N,c,u).catch((function(e){U.b.error(e.message)}));case 31:return e.next=33,e.sent.wait();case 33:x.push({id:a[0].id,tokenId:N}),(S=[]).push({nftId:s,tokenUri:w}),p(Object(f.p)({nftDataArray:S,tokenIdArray:x,transactionHash:g,signerAddress:y,brandId:d,categoryId:o,type:j,search:i,page:n,limit:r,handleClose:O})),e.next=58;break;case 39:if(!(C.length>1)){e.next=58;break}return e.next=42,k.bulkMint(C,P.address).catch((function(e){U.b.error("NFT minting  unsuccessfull")}));case 42:return e.next=44,e.sent.wait();case 44:for(D=e.sent,g="https://goerli.etherscan.io/tx/".concat(D.transactionHash),F=0,B=[],R=0;R<C.length;R++)B.push(D.events[F].args[2].toString()),F+=2;return z=new M.a.Contract(P.address,V.abi,v),e.next=52,z.makeItemBulk(h,B,c,u).catch((function(e){U.b.error(e.message)}));case 52:return e.next=54,e.sent.wait();case 54:a.map((function(e,t){x.push({id:e.id,tokenId:B[t]})})),(E=[]).push({nftId:s,tokenUri:w}),p(Object(f.p)({nftDataArray:E,tokenIdArray:x,transactionHash:g,signerAddress:y,brandId:d,categoryId:o,type:j,search:i,page:n,limit:r,handleClose:O}));case 58:e.next=63;break;case 60:e.prev=60,e.t0=e.catch(9),l(!1);case 63:case"end":return e.stop()}}),e,null,[[9,60]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(B.a)(Object(A.a)().mark((function e(){var t,a,n,r,c,i,s,o,d,j;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=b.asset,a=b.price,n=b.name,r=b.description,c="Galelio",i=(new Date).valueOf(),s=b.Category.name,o=b.Brand.name,d=b.NFTMetaData,t&&a&&n&&r){e.next=11;break}return e.abrupt("return");case 11:return e.prev=11,e.next=14,X.add(JSON.stringify({projectName:c,brandName:o,categoryName:s,image:t,name:n,description:r,price:a,mintedDate:i,metaData:d}));case 14:j=e.sent,g(j),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),l(!1);case 21:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(B.a)(Object(A.a)().mark((function e(){var t,a,c,s,o,l,d,u,h,g,m,v,y,k,w,C,I,N,T,S,D,F,B,R,z,E;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.BrandId,a=b.CategoryId,c=b.id,s=b.asset,o=b.price,l=M.a.utils.parseEther(o.toString()),d=b.name,u=b.description,"Galelio",h=(new Date).valueOf(),g=b.Category.name,m=b.Brand.name,v=b.NFTMetaData,y=b.Category.BrandCategories[0].contractAddress,k=b.NFTTokens,console.log("contractAddress",y),e.next=18,X.add(JSON.stringify({projectName:"Galelio",brandName:m,categoryName:g,image:s,name:d,description:u,price:l,mintedDate:h,metaData:v}));case 18:return w=e.sent,C="https://galileoprotocol.infura-ipfs.io/ipfs/".concat(w.path),I=Y.a.ERC20,"Voucher","4",N={name:"Voucher",version:"4",verifyingContract:y,chainId:5},T={LazyNFTVoucher:[{name:"uri",type:"string"},{name:"price",type:"uint256"},{name:"token",type:"address"}]},S={uri:C,price:l,token:I},console.log("Voucher: ",S),D=new M.a.providers.Web3Provider(window.ethereum),F=D.getSigner(),e.next=31,F._signTypedData(N,T,S);case 31:B=e.sent,R=M.a.utils.verifyTypedData(N,T,S,B),console.log("signature: ",R),"0x6f3B51bd5B67F3e5bca2fb32796215A796B79651",new M.a.Contract(y,G.abi,F),"0x6f3b51bd5b67f3e5bca2fb32796215a796b79651",console.log("domain",N),console.log("types",T),console.log("voucher",S),console.log("signature",B),console.log("verifyAddr",R),console.log("walletAddress",x),z=[{nftId:c,tokenUri:C,tokenPrice:o.toString(),signerAddress:"0x6f3B51bd5B67F3e5bca2fb32796215A796B79651"}],E=k.map((function(e){return{id:e.id,signature:B,erc20Address:I}})),p(Object(f.o)({nftDataArray:z,tokenIdArray:E,brandId:t,categoryId:a,type:j,search:i,page:n,limit:r,handleClose:O}));case 46:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(z.a,{className:"responsiveDialog",open:t,TransitionComponent:q,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title1","aria-describedby":"alert-dialog-slide-description1",children:[Object(T.jsx)(E.a,{id:"alert-dialog-slide-title1",children:" Mint NFT"}),Object(T.jsx)(L.a,{children:Object(T.jsx)(d.a,{variant:"body2",component:"span",children:"Are you sure you want to mint this NFT?"})}),Object(T.jsx)(W.a,{sx:{pr:2.5},children:s?Object(T.jsx)(u.a,{variant:"contained",size:"small",children:Object(T.jsx)(Oval,{ariaLabel:"loading-indicator",height:20,width:20,strokeWidth:5,strokeWidthSecondary:1,color:"blue",secondaryColor:"white"})}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(u.a,{sx:{color:h.palette.error.dark,borderColor:h.palette.error.dark},onClick:O,color:"secondary",children:"No"}),Object(T.jsxs)(u.a,{variant:"contained",size:"small",onClick:function(){s||(void 0==x?(a(!1),U.b.error("Connect Metamask")):"directMint"==b.mintType?m():"lazyMint"==b.mintType&&v())},children:[" ","Yes"]})]})})]})})}var _=a(679),Z=Object(r.forwardRef)((function(e,t){return Object(T.jsx)(R.a,Object(k.a)({direction:"up",ref:t},e))}));function $(e){var t=e.open,a=e.setOpen,n=e.page,r=e.limit,i=e.search,s=(e.loader,e.setLoader,e.nftData),l=e.type,b=Object(o.a)(),j=Object(c.b)(),h=function(){a(!1)};return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(z.a,{open:t,TransitionComponent:Z,keepMounted:!0,onClose:h,"aria-labelledby":"alert-dialog-slide-title1","aria-describedby":"alert-dialog-slide-description1",children:[Object(T.jsx)(E.a,{id:"alert-dialog-slide-title1",children:"Reject NFT"}),Object(T.jsx)(L.a,{children:Object(T.jsx)(_.a,{id:"alert-dialog-slide-description1",children:Object(T.jsx)(d.a,{variant:"body2",component:"span",children:"Are you sure you want to reject this NFT?"})})}),Object(T.jsxs)(W.a,{sx:{pr:2.5},children:[Object(T.jsx)(u.a,{sx:{color:b.palette.error.dark,borderColor:b.palette.error.dark},onClick:h,color:"secondary",children:"No"}),Object(T.jsx)(u.a,{variant:"contained",size:"large",onClick:function(){j(Object(f.r)({id:s.id,categoryId:s.CategoryId,brandId:s.BrandId,type:l,page:n,limit:r,search:i,handleClose:h}))},children:"Yes"})]})]})})}var ee=function(e){var t=e.nftData,a=e.search,c=e.page,i=e.limit,s=e.type;console.log("nftData",t);var o=Object(r.useState)(!1),b=Object(n.a)(o,2),j=b[0],h=b[1],p=Object(r.useState)(!1),x=Object(n.a)(p,2),O=x[0],g=x[1],f=Object(r.useState)(!1),k=Object(n.a)(f,2),w=k[0],C=k[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)($,{nftData:t,type:s,search:a,page:c,limit:i,loader:j,setLoader:h,open:w,setOpen:C}),Object(T.jsx)(K,{nftData:t,type:s,search:a,page:c,limit:i,loader:j,setLoader:h,open:O,setOpen:g}),Object(T.jsxs)(F,{content:!1,boxShadow:!0,sx:{position:"relative","&:hover":{transform:"scale3d(1.02, 1.02, 1)",transition:"all .4s ease-in-out"}},children:[Object(T.jsx)(m.a,{sx:{height:220},image:t.asset}),Object(T.jsx)(v.a,{sx:{p:2},children:Object(T.jsxs)(l.a,{container:!0,spacing:2,children:[Object(T.jsx)(l.a,{item:!0,xs:8,children:Object(T.jsx)(d.a,{variant:"subtitle1",sx:{textDecoration:"none"},children:t.name})}),Object(T.jsx)(l.a,{item:!0,xs:4,children:Object(T.jsx)(d.a,{variant:"body1",sx:{textDecoration:"none"},children:"lazyMint"==t.mintType?"Lazy Mint":"Mint"})}),Object(T.jsx)(l.a,{item:!0,xs:12,mt:-1.5,children:Object(T.jsx)(d.a,{variant:"body1",sx:{overflow:"hidden",height:30},children:t.description})}),Object(T.jsxs)(l.a,{item:!0,xs:6,children:[Object(T.jsx)(l.a,{item:!0,xs:12,children:Object(T.jsxs)(d.a,{variant:"h6",children:[t.price," ",t.currencyType]})}),Object(T.jsx)(l.a,{item:!0,xs:12,children:Object(T.jsxs)(d.a,{variant:"h6",children:[t.NFTTokens.length," Items"]})})]}),Object(T.jsx)(l.a,{item:!0,xs:6,children:Object(T.jsxs)(y.a,{direction:"row",justifyContent:"end",alignItems:"center",children:["REQUESTED"==t.status&&Object(T.jsx)(u.a,{variant:"contained",color:"primary",sx:{marginRight:"5px"},onClick:function(){C(!0)},children:"Reject"}),"REQUESTED"==t.status&&Object(T.jsx)(u.a,{variant:"contained",color:"primary",sx:{marginRight:"5px"},onClick:function(){g(!0)},children:"Mint"})]})})]})})]})]})},te=[{value:"all",label:"All NFT'S"},{value:"directMint",label:"Minted NFTS"},{value:"lazyMint",label:"Lazy Minted NFT'S"},{value:"waiting",label:"Waiting For approval"},{value:"rejected",label:"Rejected NFTS"}];t.default=function(){var e=Object(o.a)(),t=Object(i.k)(),a=Object(i.i)(),x=Object(c.b)(),m=Object(c.c)((function(e){return e.nftReducer.nftListSuperAdmin})),v=Object(r.useState)("all"),y=Object(n.a)(v,2),k=y[0],w=y[1],C=Object(r.useState)(""),I=Object(n.a)(C,2),N=I[0],S=I[1],D=Object(r.useState)(1),F=Object(n.a)(D,2),A=F[0],B=F[1],M=Object(r.useState)(12),R=Object(n.a)(M,2),z=R[0],E=R[1],L=Object(r.useState)(null),W=Object(n.a)(L,2),U=W[0],G=W[1],H=function(){G(null)};return Object(r.useEffect)((function(){var e,t,n,r;x(Object(f.k)({brandId:null===a||void 0===a||null===(e=a.state)||void 0===e||null===(t=e.brandData)||void 0===t?void 0:t.BrandId,categoryId:null===a||void 0===a||null===(n=a.state)||void 0===n||null===(r=n.brandData)||void 0===r?void 0:r.CategoryId,search:N,page:A,limit:z,type:k}))}),[,N,A,z,k]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(g.a,{className:"yellow",style:{marginBottom:"15px"},title:Object(T.jsxs)(l.a,{container:!0,spacing:s.b,children:[Object(T.jsx)(l.a,{item:!0,xs:3,children:Object(T.jsx)(d.a,{variant:"h3",sx:{fontWeight:500,color:"cadetblue"},children:"NFT Management"})}),Object(T.jsx)(l.a,{item:!0,xs:3,children:Object(T.jsx)(b.a,{className:"selectField",id:"outlined-select-budget",select:!0,fullWidth:!0,label:"Select Type",value:k,onChange:function(e){w(e.target.value),E(12),S(""),B(1)},children:te.map((function(e,t){return Object(T.jsx)(j.a,{value:e.value,children:e.label},t)}))})}),Object(T.jsx)(l.a,{item:!0,xs:6,style:{textAlign:"end"},children:Object(T.jsx)(u.a,{variant:"contained",size:"small",onClick:function(){t("/brands")},children:"back"})})]}),content:!1}),Object(T.jsx)(l.a,{container:!0,children:m&&m.nfts&&m.nfts.rows&&m.nfts.rows.length>0?Object(T.jsxs)(T.Fragment,{children:[" ",Object(T.jsx)(l.a,{container:!0,spacing:s.b,mb:4,pl:2,children:m.nfts.rows&&m.nfts.rows.map((function(e,t){return Object(T.jsx)(l.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(T.jsx)(ee,{nftData:e,search:N,page:A,limit:z,type:k})},t)}))}),Object(T.jsx)(l.a,{item:!0,xs:12,sx:{p:3},children:Object(T.jsxs)(l.a,{container:!0,justifyContent:"space-between",spacing:s.b,children:[Object(T.jsx)(l.a,{item:!0,children:Object(T.jsx)(h.a,{page:A,color:"primary",showFirstButton:!0,showLastButton:!0,count:m&&m.pages,onChange:function(e,t){B(t)}})}),Object(T.jsxs)(l.a,{item:!0,children:[Object(T.jsxs)(u.a,{size:"large",sx:{color:e.palette.grey[900]},color:"secondary",endIcon:Object(T.jsx)(O.a,{}),onClick:function(e){G(e.currentTarget)},children:[z," Rows"]}),Object(T.jsxs)(p.a,{id:"menu-user-list-style1",anchorEl:U,keepMounted:!0,open:Boolean(U),onClose:H,variant:"selectedMenu",anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},children:[Object(T.jsxs)(j.a,{value:12,onClick:function(e){E(e.target.value),B(1),H()},children:[" ","12 Rows"]}),Object(T.jsxs)(j.a,{value:24,onClick:function(e){E(e.target.value),B(1),H()},children:[" ","24 Rows"]}),Object(T.jsxs)(j.a,{value:36,onClick:function(e){E(e.target.value),B(1),H()},children:[" ","36 Rows"," "]})]})]})]})})]}):Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(l.a,{item:!0,children:Object(T.jsx)(d.a,{style:{padding:"20px"},children:" No Data Available"})})})})]})}}}]);
//# sourceMappingURL=14.79ba6bc4.chunk.js.map