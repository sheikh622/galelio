(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[14],{1193:function(e,t){},1357:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(0),c=a(36),i=a(26),s=a(77),o=a(53),l=a(536),d=a(187),j=a(554),b=a(563),u=a(537),h=a(1350),p=a(336),x=a(604),O=a.n(x),g=a(188),m=a(109),f=a(567),v=a(440),y=a(517),k=a(9),w=a(116),C=a(439),I=a(340),N=a(431),T=a(1),F=["border","boxShadow","children","content","contentClass","contentSX","darkTitle","secondary","shadow","sx","title"],S={"& .MuiCardHeader-action":{mr:0}},D=Object(r.forwardRef)((function(e,t){var a=e.border,n=void 0===a||a,r=e.boxShadow,c=e.children,i=e.content,s=void 0===i||i,l=e.contentClass,j=void 0===l?"":l,b=e.contentSX,u=void 0===b?{}:b,h=e.darkTitle,p=e.secondary,x=e.shadow,O=e.sx,g=void 0===O?{}:O,m=e.title,f=Object(w.a)(e,F),y=Object(o.a)();return Object(T.jsxs)(C.a,Object(k.a)(Object(k.a)({ref:t},f),{},{sx:Object(k.a)({border:n?"1px solid":"none",borderColor:"dark"===y.palette.mode?y.palette.background.default:y.palette.primary[200]+75,":hover":{boxShadow:r?x||("dark"===y.palette.mode?"0 2px 14px 0 rgb(33 150 243 / 10%)":"0 2px 14px 0 rgb(32 40 45 / 8%)"):"inherit"}},g),children:[!h&&m&&Object(T.jsx)(I.a,{sx:S,title:m,action:p}),h&&m&&Object(T.jsx)(I.a,{sx:S,title:Object(T.jsx)(d.a,{variant:"h3",children:m}),action:p}),m&&Object(T.jsx)(N.a,{}),s&&Object(T.jsx)(v.a,{sx:u,className:j,children:c}),!s&&c]}))})),A=a(3),M=a(58),B=a(443),R=a(510),z=a(853),E=a(742),L=a(854),W=a(855),U=a(258),G=(a(347),a(746)),H=a(973),J=a(346),P=a(791),V=a(792),Y="Basic "+J.Buffer.from("2GGvNmnqRYjnz7iJU9Kn6Nnw97C:a09de1e8b20292cd87460290de554003").toString("base64"),Q=Object(H.create)({host:"ipfs.infura.io",port:5001,protocol:"https",headers:{authorization:Y}}),X=Object(r.forwardRef)((function(e,t){return Object(T.jsx)(R.a,Object(k.a)({direction:"up",ref:t},e))}));function q(e){var t=e.open,a=e.setOpen,n=e.page,r=e.limit,i=e.search,s=e.loader,l=e.setLoader,j=e.nftData,b=e.type,h=Object(o.a)(),p=Object(c.b)(),x=Object(c.c)((function(e){return e.auth.walletAddress})),O=function(){a(!1),l(!1)},g=function(){var e=Object(M.a)(Object(A.a)().mark((function e(t){var a,c,s,o,d,u,h,x,g,f,v,y,k,w,C,I,N,T,F,S,D,M,R,z,E;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j.NFTTokens,c=j.Category.BrandCategories[0].contractAddress,s=j.id,o=j.CategoryId,d=j.BrandId,u=B.a.utils.parseEther(j.price.toString()),console.log("price",u),h="0x9C7F2b187d24147F1f993E932A16e59111675867",x=[],e.prev=9,f=new B.a.providers.Web3Provider(window.ethereum),v=f.getSigner(),e.next=14,v.getAddress();case 14:return y=e.sent,k=new B.a.Contract(c,G.abi,v),w="https://galileoprotocol.infura-ipfs.io/ipfs/".concat(t.path),e.next=19,a.map((function(){return w}));case 19:if(C=e.sent,console.log("MarketplaceAddress.address",V.address),1!=C.length){e.next=40;break}return e.next=24,k.mint(w,V.address).catch((function(e){U.b.error("".concat(e.message))}));case 24:return e.next=26,e.sent.wait();case 26:return I=e.sent,g="https://goerli.etherscan.io/tx/".concat(I.transactionHash),N=parseInt(I.events[0].args[2]),T=new B.a.Contract(V.address,P.abi,v),e.next=32,T.makeItem(h,N,c,u).catch((function(e){console.log("error",e.message),U.b.error(e.message)}));case 32:return e.next=34,e.sent.wait();case 34:x.push({id:a[0].id,tokenId:N}),(F=[]).push({nftId:s,tokenUri:w}),p(Object(m.l)({nftDataArray:F,tokenIdArray:x,transactionHash:g,signerAddress:y,brandId:d,categoryId:o,type:b,search:i,page:n,limit:r,handleClose:O})),e.next=60;break;case 40:if(!(C.length>1)){e.next=60;break}return e.next=43,k.bulkMint(C,V.address).catch((function(e){U.b.error("NFT minting  unsuccessfull")}));case 43:return e.next=45,e.sent.wait();case 45:for(S=e.sent,g="https://goerli.etherscan.io/tx/".concat(S.transactionHash),D=0,M=[],R=0;R<C.length;R++)M.push(S.events[D].args[2].toString()),D+=2;return console.log("myNftTokenIdArray",M),z=new B.a.Contract(V.address,P.abi,v),e.next=54,z.makeItemBulk(h,M,c,u).catch((function(e){console.log("error",e.message),U.b.error(e.message)}));case 54:return e.next=56,e.sent.wait();case 56:a.map((function(e,t){x.push({id:e.id,tokenId:M[t]})})),(E=[]).push({nftId:s,tokenUri:w}),p(Object(m.l)({nftDataArray:E,tokenIdArray:x,transactionHash:g,signerAddress:y,brandId:d,categoryId:o,type:b,search:i,page:n,limit:r,handleClose:O}));case 60:e.next=65;break;case 62:e.prev=62,e.t0=e.catch(9),l(!1);case 65:case"end":return e.stop()}}),e,null,[[9,62]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(M.a)(Object(A.a)().mark((function e(){var t,a,n,r,c,i,s,o,d,b;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=j.asset,a=j.price,n=j.name,r=j.description,c="Galelio",i=(new Date).valueOf(),s=j.Category.name,o=j.Brand.name,d=j.NFTMetaData,t&&a&&n&&r){e.next=11;break}return e.abrupt("return");case 11:return e.prev=11,e.next=14,Q.add(JSON.stringify({projectName:c,brandName:o,categoryName:s,image:t,name:n,description:r,price:a,mintedDate:i,metaData:d}));case 14:b=e.sent,g(b),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),l(!1);case 21:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(M.a)(Object(A.a)().mark((function e(){var t,a,c,s,o,l,d,u,h,x,g,f,v,y,k,w,C,I,N,T,F,S,D,M,R;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.BrandId,a=j.CategoryId,c=j.id,s=j.asset,o=j.price,l=j.name,d=j.description,"Galelio",u=(new Date).valueOf(),h=j.Category.name,x=j.Brand.name,g=j.NFTMetaData,f=j.Category.BrandCategories[0].contractAddress,v=j.NFTTokens,e.next=16,Q.add(JSON.stringify({projectName:"Galelio",brandName:x,categoryName:h,image:s,name:l,description:d,price:o,mintedDate:u,metaData:g}));case 16:return y=e.sent,k="https://galileoprotocol.infura-ipfs.io/ipfs/".concat(y.path),w="0x9C7F2b187d24147F1f993E932A16e59111675867","Voucher","4",5,C={name:"Voucher",version:"4",verifyingContract:f,chainId:5},I={LazyNFTVoucher:[{name:"uri",type:"string"},{name:"price",type:"uint256"},{name:"token",type:"address"}]},N=B.a.utils.parseEther(o.toString()),T={uri:k,price:N,token:w},F=new B.a.providers.Web3Provider(window.ethereum),S=F.getSigner(),e.next=30,S._signTypedData(C,I,T);case 30:D=e.sent,"0x6f3B51bd5B67F3e5bca2fb32796215A796B79651",M=[{nftId:c,tokenUri:k,tokenPrice:N.toString(),signerAddress:"0x6f3B51bd5B67F3e5bca2fb32796215A796B79651"}],R=v.map((function(e){return{id:e.id,signature:D,erc20Address:w}})),p(Object(m.k)({nftDataArray:M,tokenIdArray:R,brandId:t,categoryId:a,type:b,search:i,page:n,limit:r,handleClose:O}));case 35:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(z.a,{className:"responsiveDialog",open:t,TransitionComponent:X,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title1","aria-describedby":"alert-dialog-slide-description1",children:[Object(T.jsx)(E.a,{id:"alert-dialog-slide-title1",children:" Mint NFT"}),Object(T.jsx)(L.a,{children:Object(T.jsx)(d.a,{variant:"body2",component:"span",children:"Are you sure you want to mint this NFT?"})}),Object(T.jsx)(W.a,{sx:{pr:2.5},children:s?Object(T.jsx)(u.a,{variant:"contained",size:"small",children:Object(T.jsx)(Oval,{ariaLabel:"loading-indicator",height:20,width:20,strokeWidth:5,strokeWidthSecondary:1,color:"blue",secondaryColor:"white"})}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(u.a,{sx:{color:h.palette.error.dark,borderColor:h.palette.error.dark},onClick:O,color:"secondary",children:"No"}),Object(T.jsxs)(u.a,{variant:"contained",size:"small",onClick:function(){s||(void 0==x?(a(!1),U.b.error("Connect Metamask")):"directMint"==j.mintType?f():"lazyMint"==j.mintType&&v())},children:[" ","Yes"]})]})})]})})}var K=a(856),_=Object(r.forwardRef)((function(e,t){return Object(T.jsx)(R.a,Object(k.a)({direction:"up",ref:t},e))}));function Z(e){var t=e.open,a=e.setOpen,n=e.page,r=e.limit,i=e.search,s=(e.loader,e.setLoader,e.nftData),l=e.type,j=Object(o.a)(),b=Object(c.b)(),h=function(){a(!1)};return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(z.a,{open:t,TransitionComponent:_,keepMounted:!0,onClose:h,"aria-labelledby":"alert-dialog-slide-title1","aria-describedby":"alert-dialog-slide-description1",children:[Object(T.jsx)(E.a,{id:"alert-dialog-slide-title1",children:"Reject NFT"}),Object(T.jsx)(L.a,{children:Object(T.jsx)(K.a,{id:"alert-dialog-slide-description1",children:Object(T.jsx)(d.a,{variant:"body2",component:"span",children:"Are you sure you want to reject this NFT?"})})}),Object(T.jsxs)(W.a,{sx:{pr:2.5},children:[Object(T.jsx)(u.a,{sx:{color:j.palette.error.dark,borderColor:j.palette.error.dark},onClick:h,color:"secondary",children:"No"}),Object(T.jsx)(u.a,{variant:"contained",size:"large",onClick:function(){b(Object(m.m)({id:s.id,categoryId:s.CategoryId,brandId:s.BrandId,type:l,page:n,limit:r,search:i,handleClose:h}))},children:"Yes"})]})]})})}var $=function(e){var t=e.nftData,a=e.search,c=e.page,i=e.limit,s=e.type,o=Object(r.useState)(!1),j=Object(n.a)(o,2),b=j[0],h=j[1],p=Object(r.useState)(!1),x=Object(n.a)(p,2),O=x[0],g=x[1],m=Object(r.useState)(!1),k=Object(n.a)(m,2),w=k[0],C=k[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Z,{nftData:t,type:s,search:a,page:c,limit:i,loader:b,setLoader:h,open:w,setOpen:C}),Object(T.jsx)(q,{nftData:t,type:s,search:a,page:c,limit:i,loader:b,setLoader:h,open:O,setOpen:g}),Object(T.jsxs)(D,{content:!1,boxShadow:!0,sx:{position:"relative","&:hover":{transform:"scale3d(1.02, 1.02, 1)",transition:"all .4s ease-in-out"}},children:[Object(T.jsx)(f.a,{sx:{height:220},image:t.asset}),Object(T.jsx)(v.a,{sx:{p:2},children:Object(T.jsxs)(l.a,{container:!0,spacing:2,children:[Object(T.jsx)(l.a,{item:!0,xs:8,children:Object(T.jsx)(d.a,{variant:"subtitle1",sx:{textDecoration:"none"},children:t.name})}),Object(T.jsx)(l.a,{item:!0,xs:4,children:Object(T.jsx)(d.a,{variant:"body1",sx:{textDecoration:"none"},children:"lazyMint"==t.mintType?"Lazy Mint":"Mint"})}),Object(T.jsx)(l.a,{item:!0,xs:12,mt:-1.5,children:Object(T.jsx)(d.a,{variant:"body1",sx:{overflow:"hidden",height:30},children:t.description})}),Object(T.jsxs)(l.a,{item:!0,xs:6,children:[Object(T.jsx)(l.a,{item:!0,xs:12,children:Object(T.jsxs)(d.a,{variant:"h6",children:[t.price," ",t.currencyType]})}),Object(T.jsx)(l.a,{item:!0,xs:12,children:Object(T.jsxs)(d.a,{variant:"h6",children:[t.NFTTokens.length," Items"]})})]}),Object(T.jsx)(l.a,{item:!0,xs:6,children:Object(T.jsxs)(y.a,{direction:"row",justifyContent:"end",alignItems:"center",children:["REQUESTED"==t.status&&Object(T.jsx)(u.a,{variant:"contained",color:"primary",sx:{marginRight:"5px"},onClick:function(){console.log({nftData:t}),C(!0)},children:"Reject"}),"REQUESTED"==t.status&&Object(T.jsx)(u.a,{variant:"contained",color:"primary",sx:{marginRight:"5px"},onClick:function(){console.log({nftData:t}),g(!0)},children:"Mint"})]})})]})})]})]})},ee=[{value:"all",label:"All NFT'S"},{value:"directMint",label:"Minted NFTS"},{value:"lazyMint",label:"Lazy Minted NFT'S"},{value:"waiting",label:"Waiting For approval"},{value:"rejected",label:"Rejected NFTS"}];t.default=function(){var e=Object(o.a)(),t=Object(i.k)(),a=Object(i.i)(),x=Object(c.b)(),f=Object(c.c)((function(e){return e.nftReducer.nftListSuperAdmin})),v=Object(r.useState)("all"),y=Object(n.a)(v,2),k=y[0],w=y[1],C=Object(r.useState)(""),I=Object(n.a)(C,2),N=I[0],F=I[1],S=Object(r.useState)(1),D=Object(n.a)(S,2),A=D[0],M=D[1],B=Object(r.useState)(12),R=Object(n.a)(B,2),z=R[0],E=R[1],L=Object(r.useState)(null),W=Object(n.a)(L,2),U=W[0],G=W[1],H=function(){G(null)};return console.log("location.state",a.state),Object(r.useEffect)((function(){var e,t,n,r;x(Object(m.i)({brandId:null===a||void 0===a||null===(e=a.state)||void 0===e||null===(t=e.brandData)||void 0===t?void 0:t.BrandId,categoryId:null===a||void 0===a||null===(n=a.state)||void 0===n||null===(r=n.brandData)||void 0===r?void 0:r.CategoryId,search:N,page:A,limit:z,type:k}))}),[,N,A,z,k]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(g.a,{className:"yellow",style:{marginBottom:"15px"},title:Object(T.jsxs)(l.a,{container:!0,spacing:s.b,children:[Object(T.jsx)(l.a,{item:!0,xs:3,children:Object(T.jsx)(d.a,{variant:"h3",sx:{fontWeight:500,color:"cadetblue"},children:"NFT Management"})}),Object(T.jsx)(l.a,{item:!0,xs:3,children:Object(T.jsx)(j.a,{className:"selectField",id:"outlined-select-budget",select:!0,fullWidth:!0,label:"Select Type",value:k,onChange:function(e){w(e.target.value),E(12),F(""),M(1)},children:ee.map((function(e,t){return Object(T.jsx)(b.a,{value:e.value,children:e.label},t)}))})}),Object(T.jsx)(l.a,{item:!0,xs:6,style:{textAlign:"end"},children:Object(T.jsx)(u.a,{variant:"contained",size:"small",onClick:function(){t("/brands")},children:"back"})})]}),content:!1}),Object(T.jsx)(l.a,{container:!0,children:f&&f.nfts&&f.nfts.rows&&f.nfts.rows.length>0?Object(T.jsxs)(T.Fragment,{children:[" ",Object(T.jsx)(l.a,{container:!0,spacing:s.b,mb:4,pl:2,children:f.nfts.rows&&f.nfts.rows.map((function(e,t){return Object(T.jsx)(l.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(T.jsx)($,{nftData:e,search:N,page:A,limit:z,type:k})},t)}))}),Object(T.jsx)(l.a,{item:!0,xs:12,sx:{p:3},children:Object(T.jsxs)(l.a,{container:!0,justifyContent:"space-between",spacing:s.b,children:[Object(T.jsx)(l.a,{item:!0,children:Object(T.jsx)(h.a,{page:A,color:"primary",showFirstButton:!0,showLastButton:!0,count:f&&f.pages,onChange:function(e,t){M(t)}})}),Object(T.jsxs)(l.a,{item:!0,children:[Object(T.jsxs)(u.a,{size:"large",sx:{color:e.palette.grey[900]},color:"secondary",endIcon:Object(T.jsx)(O.a,{}),onClick:function(e){G(e.currentTarget)},children:[z," Rows"]}),Object(T.jsxs)(p.a,{id:"menu-user-list-style1",anchorEl:U,keepMounted:!0,open:Boolean(U),onClose:H,variant:"selectedMenu",anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},children:[Object(T.jsxs)(b.a,{value:12,onClick:function(e){E(e.target.value),M(1),H()},children:[" ","12 Rows"]}),Object(T.jsxs)(b.a,{value:24,onClick:function(e){E(e.target.value),M(1),H()},children:[" ","24 Rows"]}),Object(T.jsxs)(b.a,{value:36,onClick:function(e){E(e.target.value),M(1),H()},children:[" ","36 Rows"," "]})]})]})]})})]}):Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(l.a,{item:!0,children:Object(T.jsx)(d.a,{style:{padding:"20px"},children:" No Data Available"})})})})]})}}}]);
//# sourceMappingURL=14.43bd4fde.chunk.js.map